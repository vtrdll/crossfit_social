{% extends "base.html" %}
{% load widget_tweaks %}
{% block content %}
<div class="container mt-4">
  <h2>Editar Usuário</h2>
  <form method="post">
    {% csrf_token %}
    
    <div class="row">
      <div class="col-md-6 mb-3">
        <label for="{{ form.username.id_for_label }}">Usuário</label>
        {{ form.username|add_class:"form-control" }}
      </div>
      <div class="col-md-6 mb-3">
        <label for="{{ form.email.id_for_label }}">Email</label>
        {{ form.email|add_class:"form-control" }}
      </div>
      <div class="col-md-6 mb-3">
        <label for="{{ form.first_name.id_for_label }}">Primeiro nome</label>
        {{ form.first_name|add_class:"form-control" }}
      </div>
      <div class="col-md-6 mb-3">
        <label for="{{ form.last_name.id_for_label }}">Sobrenome</label>
        {{ form.last_name|add_class:"form-control" }}
      </div>
      <div class="col-md-6 mb-3">
        <label for="{{ form.box.id_for_label }}">Box</label>
        {{ form.box|add_class:"form-select" }}
      </div>
      <div class="col-md-6 mb-3">
        <label for="{{ form.category.id_for_label }}">Categoria</label>
        {{ form.category|add_class:"form-select" }}
      </div>
      <div class="col-md-6 mb-3">
        <label for="{{ form.category.id_for_label }}">Genero</label>
        {{ form.genre|add_class:"form-select" }}
      </div>
      <div class="col-md-12 mb-4">
        <label for="weightSlider">Peso: <span id="weightValue">0</span> peso</label>
        <input 
          type="range" 
          id="weightSlider" 
          name="weight" 
          min="0" 
          max="300" 
          step="0.1" 
          value="{{ form.weight.value|default:0 }}" 
          class="form-range"
        >
      </div>
      
      <div class="col-md-12 mb-4">
  <label for="heightSlider" class="form-label">
    Altura: <span id="heightValue">0</span> cm
  </label>
  <input
    type="range"
    id="heightSlider"
    name="height"
    min="100"
    max="220"
    step="1"
    value="{{ form.height.value|default:170 }}"
    class="form-range"
  >
</div>

      
    </div>

    <button type="submit" class="btn btn-primary">Salvar alterações</button>  

    <a href="{% url 'password-change' user.pk %}"  class="btn btn-primary"  >Alterar Senha</a>

    <a href="{% url 'user-delete' user.pk %}"  class="btn btn-primary"  >Excluir Conta</a>

  </form>

  <script>
    const slider = document.getElementById("weightSlider");
    const output = document.getElementById("weightValue");

    slider.oninput = function () {
      output.innerText = this.value;
    };

    window.onload = () => {
      output.innerText = slider.value;
    };


    const heightSlider = document.getElementById("heightSlider");
  const heightValue = document.getElementById("heightValue");

  if (heightSlider && heightValue) {
    heightValue.innerText = heightSlider.value;
    heightSlider.addEventListener("input", function () {
      heightValue.innerText = this.value;
    });
  }
  </script>
</div>
{% endblock %}
